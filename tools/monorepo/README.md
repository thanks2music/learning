# Monorepoツール比較・運用Tips

## このドキュメントについて

Lerna, Nx, Turborepo、pnpmワークスペースなど主なモノレポ管理ツールの比較と、ユースケース別の選び方、運用Tipsをまとめます。

---

## 1. 概要

| ツール名      | 特徴                          | 得意な構成例     | メリット                     | デメリット            |
| :------------ | :--------------------------- | :--------------- | :-------------------------- | :-------------------- |
| Lerna         | 古参、pnpmとの連携良         | JS系全般         | 学習コスト低、設定単純       | 開発終了宣言済          |
| Nx            | 多言語・多用途、強力なキャッシュ | 大規模/多言語      | 冗長な依存、機能が強力       | 設定が複雑化しやすい    |
| Turborepo     | Next.js公式、キャッシュ高速   | 前端系/JS全般     | モダンUI、少設定             | 一部機能非OSS           |
| pnpm-workspace| シンプル、爆速、標準に近い    | JS/TS、多用途     | 構成が簡潔、速度最速         | 機能はツール最小限      |

---

## 2. ユースケース別おすすめ

### 小規模（1-3人、JS/TSのみ）
- **pnpm-workspace 一択**
- シンプル&ミニマル、脱ベンダーロック

### 中規模以上（業務複数PJ/多言語/厳しい依存の厳密化必要）
- **Nx**
- タスクキャッシュ/依存解決/強力なGraphビュー

### 最新UI体験と高速性重視
- **Turborepo**
- Next.jsプロジェクトとの相性抜群、キャッシュ高速

---

## 3. Tips & ベストプラクティス

- Lernaはpnpm7以降pnpm-workspaceと併用可能
- 二重パッケージ管理に注意（`node_modules`肥大化回避策）
- nxのAffectedコマンドはCI/CD短縮、PRレビュースピード向上に有効
- TurborepoはMonorepo全体のタスクを柔軟に並列・分散実行

---

## 4. 参考リンク

- [Lerna公式](https://lerna.js.org/)
- [Nx公式](https://nx.dev/)
- [Turborepo公式](https://turbo.build/repo)
- [pnpm Workspace](https://pnpm.io/workspaces)

